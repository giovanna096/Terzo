<div *ngIf="(websocket.currentDevice | async) as device" fxLayout fxLayoutAlign="center start" fxLayoutWrap="wrap">
  <ng-container *ngIf="(device.config | async) as config">
    <!--call bridge configuration-->
    <div fxFlex="50%" fxFlex.xs="100%">
      <mat-card routerLink="/device/{{ device.name }}/config/bridge" class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>device_hub</mat-icon>
          <mat-card-title translate>Device.Config.Overview.Bridge</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item *ngFor="let bridgeId of config.bridges" fxFlex="50%">
              <p mat-line>{{ config.things[bridgeId].class | classname }}</p>
              <p mat-line>
                <small>{{ bridgeId }}</small>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!--call scheduler configuration-->
    <div fxFlex="50%" fxFlex.xs="100%">
      <mat-card routerLink="/device/{{ device.name }}/config/scheduler" class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>schedule</mat-icon>
          <mat-card-title translate>Device.Config.Overview.Scheduler</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item *ngIf="config.scheduler as schedulerId" fxFlex="50%">
              <p mat-line>{{ config.things[schedulerId].class | classname }}</p>
              <p mat-line>
                <small>{{ schedulerId }}</small>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!--call controller configuration-->
    <div routerLink="/device/{{ device.name }}/config/controller" fxFlex="50%" fxFlex.xs="100%">
      <mat-card class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>apps</mat-icon>
          <mat-card-title translate>Device.Config.Overview.Controller</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item *ngFor="let controllerId of config.controllers" fxFlex="50%">
              <p mat-line>{{ config.things[controllerId].class | classname }}</p>
              <p mat-line>
                <small>{{ controllerId }}</small>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!--call controller configuration-->
    <div routerLink="/device/{{ device.name }}/config/persistence" fxFlex="50%" fxFlex.xs="100%">
      <mat-card class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>apps</mat-icon>
          <mat-card-title>Datenspeicher</mat-card-title>
          <!-- TODO translate -->
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item *ngFor="let persistenceId of config.persistences" fxFlex="50%">
              <p mat-line>{{ config.things[persistenceId].class | classname }}</p>
              <p mat-line>
                <small>{{ persistence }}</small>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!-- call simulator ui: -->
    <!-- <ng-container *ngIf="config.simulatorDevices"> -->
    <!-- TODO there could be more than one -->
    <!-- <div routerLink="/device/{{ device.name }}/config/simulator" fxFlex="50%" fxFlex.xs="100%">
        <mat-card class="single">
          <mat-card-header>
            <mat-icon mat-card-avatar>explore</mat-icon>
            <mat-card-title translate>Device.Config.Overview.Simulator</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list dense fxLayout fxLayoutWrap="wrap">
              <mat-list-item fxFlex="50%">
                <p mat-line><span translate>Device.Config.Overview.ExecuteSimulator</span></p>
              </mat-list-item>
            </mat-list>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container> -->
    <!-- call log -->
    <div *ngIf="device.role == 'owner' || device.role == 'installer' || device.role == 'admin'" routerLink="/device/{{ device.name }}/log"
      fxFlex="50%" fxFlex.xs="100%">
      <mat-card class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>code</mat-icon>
          <mat-card-title translate>Device.Config.Overview.Log</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item fxFlex="50%">
              <p mat-line>
                <span translate>Device.Config.Overview.LiveLog</span>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!--call more configuration-->
    <div *ngIf="device.role == 'admin'" routerLink="/device/{{ device.name }}/config/more" fxFlex="50%" fxFlex.xs="100%">
      <mat-card class="single">
        <mat-card-header>
          <mat-icon mat-card-avatar>more_horiz</mat-icon>
          <mat-card-title translate>General.More</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list dense fxLayout fxLayoutWrap="wrap">
            <mat-list-item fxFlex="50%">
              <p mat-line>
                <span translate>Device.Config.Overview.ManualControl</span>
              </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
  </ng-container>
</div>